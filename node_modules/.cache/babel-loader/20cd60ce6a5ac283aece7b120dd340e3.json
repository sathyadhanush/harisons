{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"delay\", \"size\"],\n    _excluded2 = [\"height\", \"width\"];\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport React, { useState, useEffect, forwardRef, memo } from 'react';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\nimport Box from 'ui-box';\nimport { useStyleConfig } from '../../hooks';\nvar loadingKeyframes = css.keyframes('loading', {\n  '0%': {\n    transform: 'rotate(0)'\n  },\n  '100%': {\n    transform: 'rotate(360deg)'\n  }\n});\nvar loadingCircleKeyframes = css.keyframes('loading-circle', {\n  '0%': {\n    strokeDashoffset: 600\n  },\n  '100%': {\n    strokeDashoffset: 0\n  }\n});\nvar outerClass = css({\n  animation: \"\".concat(loadingKeyframes, \" 2s linear infinite\")\n}).toString();\n\nvar innerClass = function innerClass(color) {\n  return css({\n    strokeDashoffset: 600,\n    strokeDasharray: 300,\n    strokeWidth: 12,\n    strokeMiterlimit: 10,\n    strokeLinecap: 'round',\n    animation: \"\".concat(loadingCircleKeyframes, \" 1.6s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite\"),\n    stroke: color,\n    fill: 'transparent'\n  }).toString();\n};\n\nvar emptyObject = {};\nvar Spinner = /*#__PURE__*/memo( /*#__PURE__*/forwardRef(function Spinner(_ref, ref) {\n  var _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 0 : _ref$delay,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 'medium' : _ref$size,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(delay === 0),\n      _useState2 = _slicedToArray(_useState, 2),\n      isVisible = _useState2[0],\n      setIsVisible = _useState2[1];\n\n  var boxProps = useStyleConfig('Spinner', {\n    size: size\n  }, emptyObject, emptyObject);\n\n  var _ref2 = typeof size === 'string' ? boxProps : {\n    width: size,\n    height: size\n  },\n      height = _ref2.height,\n      width = _ref2.width,\n      rest = _objectWithoutProperties(_ref2, _excluded2);\n\n  useEffect(function () {\n    var delayTimer = null;\n\n    if (delay > 0) {\n      delayTimer = setTimeout(function () {\n        setIsVisible(true);\n      }, delay);\n    }\n\n    return function () {\n      clearTimeout(delayTimer);\n    };\n  }, [delay]);\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    width: width,\n    height: height,\n    lineHeight: 0\n  }, props, rest, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(Box, {\n    is: \"svg\",\n    className: outerClass,\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 150 150\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    is: \"circle\",\n    className: innerClass(boxProps.color),\n    cx: \"75\",\n    cy: \"75\",\n    r: \"60\"\n  })));\n}));\nSpinner.propTypes = _objectSpread(_objectSpread({}, Box.propTypes), {}, {\n  /**\n   * Delay after which spinner should be visible.\n   */\n  delay: PropTypes.number,\n\n  /**\n   * The size of the spinner.\n   */\n  size: PropTypes.number\n});\nexport default Spinner;","map":{"version":3,"sources":["../../../src/spinner/src/Spinner.js"],"names":["loadingKeyframes","transform","loadingCircleKeyframes","strokeDashoffset","outerClass","animation","innerClass","strokeDasharray","strokeWidth","strokeMiterlimit","strokeLinecap","stroke","fill","emptyObject","Spinner","memo","forwardRef","delay","size","props","isVisible","setIsVisible","useState","boxProps","useStyleConfig","height","width","rest","useEffect","delayTimer","setTimeout","clearTimeout","ref","Box","PropTypes","number"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, forwardRef, memo } from 'react'\nimport { css } from 'glamor'\nimport PropTypes from 'prop-types'\nimport Box from 'ui-box'\nimport { useStyleConfig } from '../../hooks'\n\nconst loadingKeyframes = css.keyframes('loading', {\n  '0%': {\n    transform: 'rotate(0)'\n  },\n  '100%': {\n    transform: 'rotate(360deg)'\n  }\n})\n\nconst loadingCircleKeyframes = css.keyframes('loading-circle', {\n  '0%': {\n    strokeDashoffset: 600\n  },\n  '100%': {\n    strokeDashoffset: 0\n  }\n})\n\nconst outerClass = css({\n  animation: `${loadingKeyframes} 2s linear infinite`\n}).toString()\n\nconst innerClass = color =>\n  css({\n    strokeDashoffset: 600,\n    strokeDasharray: 300,\n    strokeWidth: 12,\n    strokeMiterlimit: 10,\n    strokeLinecap: 'round',\n    animation: `${loadingCircleKeyframes} 1.6s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite`,\n    stroke: color,\n    fill: 'transparent'\n  }).toString()\n\nconst emptyObject = {}\n\nconst Spinner = memo(\n  forwardRef(function Spinner({ delay = 0, size = 'medium', ...props }, ref) {\n    const [isVisible, setIsVisible] = useState(delay === 0)\n\n    const boxProps = useStyleConfig('Spinner', { size }, emptyObject, emptyObject)\n\n    const { height, width, ...rest } = typeof size === 'string' ? boxProps : { width: size, height: size }\n\n    useEffect(() => {\n      let delayTimer = null\n      if (delay > 0) {\n        delayTimer = setTimeout(() => {\n          setIsVisible(true)\n        }, delay)\n      }\n\n      return function() {\n        clearTimeout(delayTimer)\n      }\n    }, [delay])\n\n    if (!isVisible) {\n      return null\n    }\n\n    return (\n      <Box width={width} height={height} lineHeight={0} {...props} {...rest} ref={ref}>\n        <Box is=\"svg\" className={outerClass} x=\"0px\" y=\"0px\" viewBox=\"0 0 150 150\">\n          <Box is=\"circle\" className={innerClass(boxProps.color)} cx=\"75\" cy=\"75\" r=\"60\" />\n        </Box>\n      </Box>\n    )\n  })\n)\n\nSpinner.propTypes = {\n  /**\n   * Composes the Box component as the base.\n   */\n  ...Box.propTypes,\n\n  /**\n   * Delay after which spinner should be visible.\n   */\n  delay: PropTypes.number,\n\n  /**\n   * The size of the spinner.\n   */\n  size: PropTypes.number\n}\n\nexport default Spinner\n"]},"metadata":{},"sourceType":"module"}